# Manusä»»å‹™ç®¡ç†ç³»çµ± - ä½¿ç”¨èªªæ˜

## ğŸ¯ ç³»çµ±æ¦‚è¿°

Manusä»»å‹™ç®¡ç†ç³»çµ±æ˜¯ä¸€å€‹åŸºæ–¼Playwrightçš„æ™ºèƒ½è‡ªå‹•åŒ–å·¥å…·ï¼Œèƒ½å¤ ï¼š
- è‡ªå‹•æ”¶é›†Manuså¹³å°çš„ä»»å‹™æ•¸æ“š
- æ™ºèƒ½åˆ†é¡å°è©±å…§å®¹
- ç®¡ç†å’Œä¸‹è¼‰ä»»å‹™ç›¸é—œæ–‡ä»¶
- å‘ä»»å‹™ç™¼é€è‡ªå®šç¾©æ¶ˆæ¯
- ç”Ÿæˆè©³ç´°çš„åˆ†æå ±å‘Š

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```bash
# é€²å…¥é …ç›®ç›®éŒ„
cd aicore0621/manus-task-manager

# åŸ·è¡Œä¸»è…³æœ¬
node src/manus_comprehensive_manager.js
```

### 2. æŒ‡å®šç‰¹å®šä»»å‹™

```bash
# è™•ç†ç‰¹å®šä»»å‹™
node src/manus_comprehensive_manager.js --task-url "https://manus.im/app/æ‚¨çš„ä»»å‹™ID"
```

### 3. åƒ…æ”¶é›†æ•¸æ“šï¼ˆä¸ç™¼é€æ¶ˆæ¯ï¼‰

```bash
# åƒ…æ”¶é›†æ¨¡å¼
node src/manus_comprehensive_manager.js --collect-only
```

## ğŸ“‹ åŠŸèƒ½è©³è§£

### ğŸ” æ•¸æ“šæ”¶é›†åŠŸèƒ½

#### ä»»å‹™åˆ—è¡¨éæ­·
ç³»çµ±æœƒè‡ªå‹•ï¼š
1. æƒæå·¦å´ä»»å‹™åˆ—è¡¨
2. é€ä¸€é»æ“Šæ¯å€‹ä»»å‹™
3. æå–ä»»å‹™åŸºæœ¬ä¿¡æ¯

#### å°è©±æ­·å²æ”¶é›†
å°æ¯å€‹ä»»å‹™ï¼š
1. é»æ“Šå³ä¸Šè§’çš„ **Share** æŒ‰éˆ•
2. è¤‡è£½ replay URL
3. è¨ªå• replay é é¢æå–å®Œæ•´å°è©±æ­·å²
4. è‡ªå‹•åˆ†é¡ç‚ºï¼š[æ€è€ƒ]ã€[è§€å¯Ÿ]ã€[è¡Œå‹•]

#### æ™ºèƒ½åˆ†é¡é‚è¼¯

**[æ€è€ƒ]** - åŒ…å«ä»¥ä¸‹é—œéµè©çš„å…§å®¹ï¼š
- æˆ‘èªç‚ºã€æˆ‘è¦ºå¾—ã€åˆ†æã€è€ƒæ…®ã€æ€è€ƒ
- åˆ¤æ–·ã€è©•ä¼°ã€æ¨ç†ã€è¨ˆåŠƒã€ç­–ç•¥
- å‡è¨­ã€æ¨æ¸¬ã€é æ¸¬ã€è¨­æƒ³ã€æ§‹æ€

**[è§€å¯Ÿ]** - åŒ…å«ä»¥ä¸‹é—œéµè©çš„å…§å®¹ï¼š
- æˆ‘çœ‹åˆ°ã€ç™¼ç¾ã€æ³¨æ„åˆ°ã€è§€å¯Ÿã€æª¢æ¸¬
- é¡¯ç¤ºã€å‡ºç¾ã€çµæœã€ç¢ºèªæ„åœ–ã€ç¢ºèª
- ç†è§£ã€æ˜ç™½ã€äº†è§£ã€è­˜åˆ¥ã€æª¢æŸ¥

**[è¡Œå‹•]** - åŒ…å«ä»¥ä¸‹é—œéµè©çš„å…§å®¹ï¼š
- åŸ·è¡Œã€é‹è¡Œã€å‰µå»ºã€ä¿®æ”¹ã€ç™¼é€
- é»æ“Šã€æ“ä½œã€å¯¦æ–½ã€å®Œæˆã€é–‹å§‹
- å•Ÿå‹•ã€åœæ­¢ã€åˆªé™¤ã€æ›´æ–°ã€å®‰è£

### ğŸ“ æ–‡ä»¶ç®¡ç†åŠŸèƒ½

#### æ–‡ä»¶åˆ†é¡ä¸‹è¼‰
ç³»çµ±æ”¯æ´å››ç¨®æ–‡ä»¶é¡å‹ï¼š

1. **Documents** - æ–‡æª”æ–‡ä»¶
   - PDFã€DOCã€DOCXã€TXTç­‰
   - å­˜å„²è·¯å¾‘ï¼š`/manus/taskxxx/doc/documents/`

2. **Images** - åœ–ç‰‡æ–‡ä»¶
   - PNGã€JPGã€GIFã€SVGç­‰
   - å­˜å„²è·¯å¾‘ï¼š`/manus/taskxxx/doc/images/`

3. **Code files** - ä»£ç¢¼æ–‡ä»¶
   - JSã€PYã€HTMLã€CSSç­‰
   - å­˜å„²è·¯å¾‘ï¼š`/manus/taskxxx/doc/code_files/`

4. **Links** - éˆæ¥æ–‡ä»¶
   - URLã€æ›¸ç±¤ç­‰
   - å­˜å„²è·¯å¾‘ï¼š`/manus/taskxxx/doc/links/`

#### è‡ªå‹•ä¸‹è¼‰æµç¨‹
```
1. é»æ“Šä»»å‹™å³å´çš„æ–‡ä»¶æŒ‰éˆ•
2. é¸æ“‡æ–‡ä»¶é¡å‹æ¨™ç±¤
3. é»æ“Š "Batch download"
4. å¾ Downloads ç§»å‹•åˆ°å°æ‡‰ç›®éŒ„
5. æ›´æ–°æ•¸æ“šåº«è¨˜éŒ„
```

### ğŸ’¬ æ¶ˆæ¯ç™¼é€åŠŸèƒ½

#### è‡ªå‹•æ¶ˆæ¯ç™¼é€
```javascript
// é è¨­æ¶ˆæ¯å…§å®¹
const defaultMessage = "ğŸ¤– è‡ªå‹•åŒ–ç³»çµ±æª¢æŸ¥ï¼šè«‹ç¢ºèªä»»å‹™ç‹€æ…‹å’Œé€²åº¦ã€‚å¦‚æœ‰éœ€è¦ï¼Œè«‹æä¾›æœ€æ–°çš„æ›´æ–°ä¿¡æ¯ã€‚";
```

#### è‡ªå®šç¾©æ¶ˆæ¯
```bash
# ç™¼é€è‡ªå®šç¾©æ¶ˆæ¯
node src/manus_comprehensive_manager.js --message "æ‚¨çš„è‡ªå®šç¾©æ¶ˆæ¯å…§å®¹"
```

#### æ‰¹é‡æ¶ˆæ¯è™•ç†
```bash
# å¾æ–‡ä»¶è®€å–æ¶ˆæ¯åˆ—è¡¨
node src/manus_comprehensive_manager.js --message-file messages.txt
```

### ğŸ—„ï¸ æ•¸æ“šåº«åŠŸèƒ½

#### æ•¸æ“šåº«çµæ§‹
ç³»çµ±ä½¿ç”¨SQLiteæ•¸æ“šåº«ï¼ŒåŒ…å«ä»¥ä¸‹è¡¨æ ¼ï¼š

**tasks** - ä»»å‹™ä¿¡æ¯
```sql
- id: ä»»å‹™ID
- name: ä»»å‹™åç¨±
- display_name: é¡¯ç¤ºåç¨±
- replay_url: Replay URL
- created_at: å‰µå»ºæ™‚é–“
- last_updated: æœ€å¾Œæ›´æ–°æ™‚é–“
- status: ä»»å‹™ç‹€æ…‹
```

**messages** - æ¶ˆæ¯è¨˜éŒ„
```sql
- id: æ¶ˆæ¯ID
- task_id: é—œè¯ä»»å‹™ID
- content: æ¶ˆæ¯å…§å®¹
- category: åˆ†é¡ ([æ€è€ƒ]/[è§€å¯Ÿ]/[è¡Œå‹•])
- timestamp: æ™‚é–“æˆ³
- source: ä¾†æº (user/manus/system)
- message_type: æ¶ˆæ¯é¡å‹
```

**files** - æ–‡ä»¶è¨˜éŒ„
```sql
- id: æ–‡ä»¶ID
- task_id: é—œè¯ä»»å‹™ID
- filename: æ–‡ä»¶å
- filepath: æ–‡ä»¶è·¯å¾‘
- file_type: æ–‡ä»¶é¡å‹
- file_category: æ–‡ä»¶åˆ†é¡
- file_size: æ–‡ä»¶å¤§å°
- created_at: å‰µå»ºæ™‚é–“
```

#### æ•¸æ“šæŸ¥è©¢ç¯„ä¾‹
```javascript
// æŸ¥è©¢ç‰¹å®šä»»å‹™çš„æ‰€æœ‰æ€è€ƒé¡æ¶ˆæ¯
const thinkingMessages = await db.all(`
    SELECT * FROM messages 
    WHERE task_id = ? AND category = 'æ€è€ƒ'
    ORDER BY timestamp DESC
`, [taskId]);

// çµ±è¨ˆå„é¡å‹æ–‡ä»¶æ•¸é‡
const fileStats = await db.all(`
    SELECT file_category, COUNT(*) as count 
    FROM files 
    WHERE task_id = ? 
    GROUP BY file_category
`, [taskId]);
```

## ğŸ“Š å ±å‘ŠåŠŸèƒ½

### è‡ªå‹•ç”Ÿæˆå ±å‘Š
ç³»çµ±æœƒè‡ªå‹•ç”Ÿæˆä»¥ä¸‹å ±å‘Šï¼š

#### 1. ä»»å‹™è™•ç†å ±å‘Š
```
ğŸ“‹ ä»»å‹™è™•ç†å ±å‘Š
==================
è™•ç†æ™‚é–“: 2025-06-20 15:30:00
ç¸½ä»»å‹™æ•¸: 5
æˆåŠŸè™•ç†: 5
å¤±æ•—ä»»å‹™: 0
ç¸½è™•ç†æ™‚é–“: 15åˆ†30ç§’
```

#### 2. æ•¸æ“šçµ±è¨ˆå ±å‘Š
```
ğŸ“Š æ•¸æ“šçµ±è¨ˆ
==================
ç¸½æ¶ˆæ¯æ•¸: 150
- [æ€è€ƒ]: 45 (30%)
- [è§€å¯Ÿ]: 60 (40%)  
- [è¡Œå‹•]: 45 (30%)

ç¸½æ–‡ä»¶æ•¸: 25
- Documents: 8
- Images: 10
- Code files: 5
- Links: 2
```

#### 3. æ–‡ä»¶ä¸‹è¼‰å ±å‘Š
```
ğŸ“ æ–‡ä»¶ä¸‹è¼‰å ±å‘Š
==================
æˆåŠŸä¸‹è¼‰: 23/25
å¤±æ•—ä¸‹è¼‰: 2
ç¸½å¤§å°: 45.6 MB
å¹³å‡æ–‡ä»¶å¤§å°: 1.8 MB
```

## âš™ï¸ é«˜ç´šé…ç½®

### 1. è‡ªå®šç¾©åˆ†é¡é—œéµè©
ç·¨è¼¯ `src/config/classification.js`ï¼š

```javascript
module.exports = {
    CLASSIFICATION_KEYWORDS: {
        'æ€è€ƒ': [
            // æ·»åŠ æ‚¨çš„è‡ªå®šç¾©é—œéµè©
            'åˆ†æ', 'è©•ä¼°', 'è€ƒæ…®'
        ],
        'è§€å¯Ÿ': [
            'ç™¼ç¾', 'æ³¨æ„åˆ°', 'ç¢ºèª'
        ],
        'è¡Œå‹•': [
            'åŸ·è¡Œ', 'å¯¦æ–½', 'å®Œæˆ'
        ]
    }
};
```

### 2. èª¿æ•´ç­‰å¾…æ™‚é–“
```javascript
// åœ¨é…ç½®æ–‡ä»¶ä¸­èª¿æ•´
const CONFIG = {
    waitTime: 3000,        // åŸºæœ¬ç­‰å¾…æ™‚é–“
    longWaitTime: 10000,   // é•·ç­‰å¾…æ™‚é–“
    retryAttempts: 3       // é‡è©¦æ¬¡æ•¸
};
```

### 3. è¨­ç½®ä»£ç†
```javascript
// ç€è¦½å™¨ä»£ç†è¨­ç½®
const browser = await chromium.launch({
    proxy: {
        server: 'http://proxy-server:port',
        username: 'username',
        password: 'password'
    }
});
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œè§£æ±º

#### 1. ä»»å‹™åˆ—è¡¨ç„¡æ³•åŠ è¼‰
```bash
# æª¢æŸ¥ç¶²è·¯é€£æ¥
ping manus.im

# æª¢æŸ¥ç€è¦½å™¨ç‰ˆæœ¬
google-chrome --version
```

#### 2. æ–‡ä»¶ä¸‹è¼‰å¤±æ•—
```bash
# æª¢æŸ¥ä¸‹è¼‰ç›®éŒ„æ¬Šé™
ls -la /Users/æ‚¨çš„ç”¨æˆ¶å/Downloads

# æ¸…ç†ä¸‹è¼‰ç›®éŒ„
rm -rf /Users/æ‚¨çš„ç”¨æˆ¶å/Downloads/temp_*
```

#### 3. æ•¸æ“šåº«éŒ¯èª¤
```bash
# æª¢æŸ¥æ•¸æ“šåº«æ–‡ä»¶
sqlite3 /home/æ‚¨çš„ç”¨æˆ¶å/manus/manus_tasks.db ".tables"

# é‡å»ºæ•¸æ“šåº«
rm /home/æ‚¨çš„ç”¨æˆ¶å/manus/manus_tasks.db
node src/manus_comprehensive_manager.js --init-db
```

## ğŸ“ˆ æ€§èƒ½å„ªåŒ–

### 1. æ‰¹é‡è™•ç†
```bash
# è¨­ç½®æ‰¹é‡å¤§å°
node src/manus_comprehensive_manager.js --batch-size 5
```

### 2. ä¸¦è¡Œè™•ç†
```bash
# å•Ÿç”¨ä¸¦è¡Œæ¨¡å¼ï¼ˆè¬¹æ…ä½¿ç”¨ï¼‰
node src/manus_comprehensive_manager.js --parallel --max-workers 2
```

### 3. è¨˜æ†¶é«”å„ªåŒ–
```bash
# å¢åŠ Node.jsè¨˜æ†¶é«”é™åˆ¶
node --max-old-space-size=4096 src/manus_comprehensive_manager.js
```

## ğŸ”„ å®šæœŸç¶­è­·

### 1. æ•¸æ“šåº«æ¸…ç†
```bash
# æ¸…ç†30å¤©å‰çš„èˆŠæ•¸æ“š
node src/utils/cleanup.js --days 30
```

### 2. æ—¥èªŒè¼ªè½‰
```bash
# å£“ç¸®èˆŠæ—¥èªŒ
node src/utils/log-rotate.js
```

### 3. æ›´æ–°æª¢æŸ¥
```bash
# æª¢æŸ¥æ›´æ–°
git pull origin main
npm update
```

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚éœ€æŠ€è¡“æ”¯æ´ï¼Œè«‹ï¼š
1. æŸ¥çœ‹ [APIæ–‡æª”](api.md)
2. æª¢æŸ¥ [GitHub Issues](https://github.com/alexchuang650730/aicore0621/issues)
3. è¯ç¹«é–‹ç™¼åœ˜éšŠ

